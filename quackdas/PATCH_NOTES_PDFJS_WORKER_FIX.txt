Quackdas Electron wrapper v0.4.1 — PDF.js worker packaging fix

This patch makes PDF import work reliably in packaged Electron builds by ensuring the PDF.js worker
is available as a real file on disk (not inside app.asar) and by setting workerSrc to an absolute
file URL.

Changes made
- package.json: added build.asarUnpack entry:
  **/js/pdfjs/pdf.worker.min.js

- js/pdf.js: set:
  pdfjsLib.GlobalWorkerOptions.workerSrc =
    new URL('js/pdfjs/pdf.worker.min.js', window.location.href).toString();

- js/documents.js: updated the fallback error message to remove the outdated “npm run fetch-pdfjs” advice.

Verification
Build the app with your usual electron-builder workflow, then try importing a PDF.
If it still fails, open DevTools and look for a Worker loading error; the path shown should now point
outside app.asar (often under app.asar.unpacked).
Additional change (CSP)
- index.html: updated Content-Security-Policy to add:
  script-src ... 'unsafe-eval'
  worker-src 'self' blob:

Rationale: PDF.js (pdf.min.js) uses `new Function(...)` internally. With the existing CSP, this is blocked,
which can prevent PDF.js from initialising in the packaged Electron renderer. Allowing 'unsafe-eval' fixes
that. worker-src blob: is added as a safety net for worker creation strategies.
PDF.js file set change (5.4.624 module build)
- Replaced bundled PDF.js files under js/pdfjs/ with:
  build/pdf.mjs, build/pdf.worker.mjs, build/pdf.sandbox.mjs (from pdfjs 5.4.624 distribution).

- index.html now loads PDF.js via <script type="module"> and assigns window.pdfjsLib for compatibility
  with existing code.

- js/pdf.js now points GlobalWorkerOptions.workerSrc at js/pdfjs/pdf.worker.mjs.

Rationale: the provided PDF.js zip contained .mjs module builds (not legacy pdf.min.js). This adapts
Quackdas to use the module build while keeping the existing non-module API surface via window.pdfjsLib.

Detached ArrayBuffer fix
- js/pdf.js: ensure the byte array passed to pdfjsLib.getDocument({data: ...}) is a *copy* (Uint8Array.slice()).
  Rationale: PDF.js may transfer the underlying ArrayBuffer to its worker, detaching it. Passing a copy prevents
  later typed-array construction from throwing “Cannot perform Construct on a detached ArrayBuffer”.
- js/pdf.js: if PDF bytes were created via new Uint8Array(buf.buffer) on a Node Buffer, convert using
  buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength) to avoid wrong backing store/offsets.

Note: this is a defensive fix; it does not require changes to your calling code.
Initialisation-order fix (module PDF.js)
- index.html: moved the <script type="module"> PDF.js loader to immediately after <body> so it runs before app scripts.
- js/pdf.js: initPdfJs() is now async and waits briefly (up to 2s) for window/globalThis.pdfjsLib to appear.
  Added ensurePdfJsReady() and made isPdfSupported() async to trigger init on demand.
- js/documents.js: updated PDF import button handler to await isPdfSupported().

Rationale: in packaged builds, script execution order can differ; module scripts may not have populated window.pdfjsLib
by the time the app checks for PDF support. This ensures initialisation happens deterministically.


PDF viewer usability fixes
- js/pdf.js: wrap PDF toolbar + canvas container in .pdf-viewer (flex column) so the toolbar stays aligned and
  scrolling happens inside the page container (prevents the “PDF peeking above toolbar” effect).
- js/pdf.js: use pdfjsLib.renderTextLayer(...) for the selectable text layer (much better text selection coverage
  than manual positioning); keep a manual fallback if renderTextLayer fails.
- styles.css: make .pdf-container flex:1 scroll area; make .pdf-toolbar non-sticky; improve .pdf-text-layer CSS
  (user-select enabled; opacity fixed; add generic rules for PDF.js-generated spans).

Note: coded-highlight styling for PDF text may need a follow-up pass, since PDF.js creates its own spans.
